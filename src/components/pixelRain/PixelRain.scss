$drop-count: 30;
$rain-color: #ba8fbc;
$highlight-color: #e0c3e2;

.rain-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: -1;
  pointer-events: none;
  overflow: hidden;
}

.rain-drop {
  position: absolute;
  top: -20px;

  // 기본 모양
  background-color: $rain-color;
  width: 10px;
  height: 10px;

  // 빛나는 효과
  box-shadow: 0 0 5px rgba($rain-color, 0.6), 0 0 10px rgba($rain-color, 0.4);

  animation: fall linear infinite;
}

@for $i from 1 through $drop-count {
  .rain-drop:nth-child(#{$i}) {
    // 가로 위치
    left: #{random(96)}vw;

    // 떨어지는 속도
    $duration: random(5000) / 1000 + 5s;
    animation-duration: $duration;

    // 시작 지연
    animation-delay: -#{random(5000) / 1000}s;

    $size: #{random(10) + 5}px;
    width: $size;
    height: $size;

    // 투명도
    opacity: random(6) / 10 + 0.2;

    @if ($i % 3 == 0) {
      background-color: $highlight-color;
      box-shadow: 0 0 8px rgba($highlight-color, 0.8);
      z-index: -1;
    }
  }
}

/* 떨어지는 애니메이션 */
@keyframes fall {
  0% {
    transform: translateY(-10vh) rotate(0deg);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(110vh) rotate(180deg);
    opacity: 0;
  }
}
